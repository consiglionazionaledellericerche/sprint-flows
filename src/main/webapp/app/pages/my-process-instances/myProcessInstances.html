<div ng-cloak>
    <div class="row form-group">
        <div class="col-md-12">
            <uib-tabset active="1" justified="true" type="pills">
                <uib-tab index="0" select="setActiveContent('active')">
                    <uib-tab-heading>
                        <h3>
                            <i class="glyphicon glyphicon-edit"></i>
                            Flussi attivi: {{vm.myProcessInstancesActive.total}}
                        </h3>
                    </uib-tab-heading>
                </uib-tab>
                <uib-tab index="1" select="setActiveContent('terminated')">
                    <uib-tab-heading>
                        <h3>
                            <i class="glyphicon glyphicon-check"></i>
                            Flussi terminati: {{vm.myProcessInstancesTerminated.total}}
                        </h3>
                    </uib-tab-heading>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="progress">
                <uib-progress animate="false">
                    <uib-bar class="progress-bar-striped"
                             value="100* vm.myProcessInstancesActive.total/(vm.myProcessInstancesTerminated.total+ vm.myProcessInstancesActive.total)"
                             type="primary">
                        <span>{{vm.myProcessInstancesActive.total}}</span>
                    </uib-bar>
                    <uib-bar class="progress-bar-striped"
                             value="100* vm.myProcessInstancesTerminated.total/(vm.myProcessInstancesTerminated.total+ vm.myProcessInstancesActive.total)"
                             type="info">
                        <span>{{vm.myProcessInstancesTerminated.total}} </span>
                    </uib-bar>
                </uib-progress>
            </div>
        </div>

        <div class="col-md-3">
            <div>
                <h4>Ordinamento temporale</h4>
                <div>
                    <button class="btn btn-default btn-block margin-top-20"
                            ng-click="vm.order ===  'ASC' ?  vm.order='DESC' : vm.order = 'ASC'">
                        <span class="glyphicon glyphicon-sort"></span>
                        {{vm.order === 'ASC' ? 'Crescente' : 'Descrescente'}}
                    </button>
                </div>
            </div>
            <h4>Tipologie</h4>
            <workflow-types process-definitions="wfDefs" filters="false"></workflow-types>
        </div>

        <div class="col-md-9" ng-show="activeContent == 'active'">
            <h3>
                <span class="label label-primary">
                    <i class="glyphicon-inbox"></i>
                    Flussi avviati da me ed ancora ATTIVI
                </span>
            </h3>
            <process-list
                    processes="vm.myProcessInstancesActive.data"
                    paging="paging">
            </process-list>
        </div>
        <div class="col-md-9" ng-show="activeContent == 'terminated'">
            <h3>
                <span class="label label-info" ng-class="label - info">
                    <i class="glyphicon glyphicon-user"></i>
                    Flussi avviati da me e TERMINATI
                </span>
            </h3>
            <process-list
                    processes="vm.myProcessInstancesTerminated.data"
                    paging="paging">
            </process-list>
        </div>
    </div>
</div>
<pre ng-show="development">
  {{tasks| json}}
</pre>
<pre>{{vm| json}}</pre>
